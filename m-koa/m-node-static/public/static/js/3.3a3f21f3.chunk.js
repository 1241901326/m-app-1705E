(this["webpackJsonpm-react-app-test"]=this["webpackJsonpm-react-app-test"]||[]).push([[3],{80:function(t,e,n){"use strict";n.r(e);var o=n(7),a=n(8),i=n(10),c=n(9),s=n(11),r=n(0),u=n.n(r),l=n(15),d=n(5),h=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(a.a)(e,[{key:"handleSelect",value:function(t,e){var n=this.props.bookList;n[t].checked=e.target.checked,this.props.setState("bookList",n)}},{key:"handleSelectAll",value:function(t){var e=this.props.bookList;e.forEach((function(e){e.checked=t.target.checked})),this.props.setState("bookList",e)}},{key:"handleDeleteSelected",value:function(){var t=this,e=this.props.bookList.filter((function(t){return t.checked})).map((function(t){return t.id}));d.a.bookDelete({ids:e}).then((function(e){200===e.data.code&&t.props.setState("bookList",e.data.data)}))}},{key:"handleDelete",value:function(t){var e=this;d.a.bookDelete({ids:t}).then((function(t){200===t.data.code&&e.props.setState("bookList",t.data.data)}))}},{key:"handleAdd",value:function(t){var e=this.props.bookList;e[t].count+=1;var n=JSON.parse(JSON.stringify(e));this.props.setState("bookList",n)}},{key:"handleSub",value:function(t){var e=this.props.bookList;if(e[t].count>1){e[t].count-=1;var n=JSON.parse(JSON.stringify(e));this.props.setState("bookList",n)}}},{key:"handleUpdateBookList",value:function(){var t=this.props.bookList;d.a.bookUpdate({bookListNew:t}).then((function(t){}))}},{key:"componentDidUpdate",value:function(){this.handleUpdateBookList()}},{key:"componentDidMount",value:function(){var t=this;d.a.getBookList().then((function(e){200===e.data.code&&t.props.setState("bookList",e.data.data)}))}},{key:"render",value:function(){var t=this,e=this.props.bookList,n=e.map((function(e,n){return u.a.createElement("div",{key:e.id},u.a.createElement("input",{type:"checkbox",checked:e.checked,onChange:t.handleSelect.bind(t,n)}),e.title,",\u4ef7\u683c\uff1a",e.price,"\u5143\uff0c",u.a.createElement("button",{onClick:t.handleSub.bind(t,n)},"-"),e.count,u.a.createElement("button",{onClick:t.handleAdd.bind(t,n)},"+"),u.a.createElement("button",{onClick:t.handleDelete.bind(t,[e.id])},"\u5220\u9664"))})),o=0,a=0;e.filter((function(t){return t.checked})).forEach((function(t){a+=t.count,o+=t.count*t.price}));var i=e.filter((function(t){return t.checked})).length;return u.a.createElement("div",null,u.a.createElement("input",{type:"checkbox",checked:e.length===i,onChange:this.handleSelectAll.bind(this)})," \u5168\u9009",u.a.createElement("button",{onClick:this.handleDeleteSelected.bind(this)},"\u5220\u9664\u9009\u4e2d\u7684"),n,u.a.createElement("div",null,"\u603b\u4ef7\uff1a",o,"\u5143\uff0c\u603b\u6570\uff1a",a))}}]),e}(r.Component);e.default=Object(l.b)((function(t){return{bookList:t.bookList,a:[]}}),(function(t){return{setState:function(e,n){t({type:"SET_STATE",key:e,value:n})}}}))(h)}}]);
//# sourceMappingURL=3.3a3f21f3.chunk.js.map